---
title: "Elasticsearch"
lang: "en-US"
draft: false
description: "Learn about how to set up a VDP Elasticsearch component https://github.com/instill-ai/instill-core"
---

The Elasticsearch component is a data component that allows users to access the Elasticsearch database.
It can carry out the following tasks:

- [Search](#search)
- [Vector Search](#vector-search)
- [Index](#index)
- [Update](#update)
- [Delete](#delete)
- [Create Index](#create-index)
- [Delete Index](#delete-index)



## Release Stage

`Alpha`



## Configuration

The component configuration is defined and maintained [here](https://github.com/instill-ai/component/blob/main/application/elasticsearch/v0/config/definition.json).




## Setup


| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Cloud ID (required) | `cloud-id` | string | Fill in the Cloud ID for the Elasticsearch instance |
| API Key (required) | `api-key` | string | Fill in the API key for the Elasticsearch instance (please use encoded one) |




## Supported Tasks

### Search

Search for documents in Elasticsearch


| Input | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_SEARCH` |
| Mode (required) | `mode` | string | Document mode to return, Hits will return documents with (_id, _index, _score), Source Only will return only documents |
| Index Name (required) | `index-name` | string | Name of the Elasticsearch index |
| Query | `query` | string | Query to be used for search, query will be prioritised over filter if both are provided, if both query and filter are not provided, all documents will be selected |
| Filter | `filter` | semi-structured/json | Filter for selecting documents to search, query will be prioritised over filter if both are provided, if both query and filter are not provided, all documents will be selected. Additionally, if JSON value of a key is null e.g \{'name':null\}, then name field will be selected without any filter |
| Size | `size` | integer | Number of documents to return, this field is optional. If empty then all documents will be returned |



| Output | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Documents | `documents` | array | Search result documents |
| Status | `status` | string | Search operation status |






### Vector Search

Search for vector similarity search in Elasticsearch with CosineSimilarity algorithm


| Input | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_VECTOR_SEARCH` |
| Mode (required) | `mode` | string | Document mode to return, Hits will return documents with (_id, _index, _score), Source Only will return only documents |
| Index Name (required) | `index-name` | string | Name of the Elasticsearch index |
| Filter | `filter` | semi-structured/json | Filter for conducting vector similarity search. If JSON value of a key is null e.g \{'name':null\}, then name field will be selected without any filter. For vector similarity search, make sure to create an index with dense_vector field and provide vector field name in filter e.g \{'vector_field1':'vector_value1','vector_field2':'vector_value2'\} |
| Size | `size` | integer | Number of documents to return, this field is optional. If empty then all documents will be returned |



| Output | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Documents | `documents` | array | Search result documents |
| Status | `status` | string | Search operation status |






### Index

Index a document into Elasticsearch


| Input | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_INDEX` |
| Index Name (required) | `index-name` | string | Name of the Elasticsearch index |
| Data (required) | `data` | semi-structured/json | Data to be indexed |



| Output | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Status | `status` | string | Index operation status |






### Update

Update a document in Elasticsearch


| Input | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_UPDATE` |
| Index Name (required) | `index-name` | string | Name of the Elasticsearch index |
| Query | `query` | string | Query to be used for update, query will be prioritised over filter if both are provided, if both query and filter are not provided, all documents will be selected |
| Filter | `filter` | semi-structured/json | Filter for selecting documents to update, query will be prioritised over filter if both are provided, if both query and filter are not provided, all documents will be selected |
| Update (required) | `update` | semi-structured/json | Update data |



| Output | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Status | `status` | string | Update operation status |






### Delete

Delete documents from Elasticsearch


| Input | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_DELETE` |
| Index Name (required) | `index-name` | string | Name of the Elasticsearch index |
| Query | `query` | string | Query to be used for delete, query will be prioritised over filter if both are provided, if both query and filter are not provided, all documents will be selected |
| Filter | `filter` | semi-structured/json | Filter for selecting documents to delete, query will be prioritised over filter if both are provided, if both query and filter are not provided, all documents will be selected |



| Output | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Status | `status` | string | Delete operation status |






### Create Index

Create an index in Elasticsearch


| Input | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_CREATE_INDEX` |
| Index Name (required) | `index-name` | string | Name of the Elasticsearch index |
| Mappings (required) | `mappings` | semi-structured/json | Index mappings, support both vector search and non-vector search mappings, for vector search index type mappings use json object with type dense_vector, dims, and similarity fields, e.g \{'vector':\{'type':'dense_vector','dims':2, 'similarity':'cosine'\},'name':\{'type':'text'\}. Currently supported similarity metric [cosine, l2_norm, dot_product, max_inner_product]. If no similarity field is provided, cosine similarity will be used by default |



| Output | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Status | `status` | string | Create index operation status |






### Delete Index

Delete an index in Elasticsearch


| Input | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_DELETE_INDEX` |
| Index Name (required) | `index-name` | string | Name of the Elasticsearch index |



| Output | ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Status | `status` | string | Delete index operation status |







